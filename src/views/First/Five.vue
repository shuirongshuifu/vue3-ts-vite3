<template>
  <div class="demo">
    <h2>å±•å¼€è¡Œ</h2>
    <MyTable height="240" :columns="columns" :data="data" :pageInfo="{ hidden: true }">
      <!-- å±•å¼€è¡Œçš„å†…å®¹ -->
      <template #expand:default="scope">
        <h3 style="margin-left: 12px;">{{ scope.row.name }}</h3>
      </template>
      <template #score:default="scope">
        <span>{{ scope.row.score }} åˆ† </span>
      </template>
      <template #score:header="scope">
        <span>å¤´éƒ¨æ’æ§½å½¢å¼æ¸²æŸ“å¤´éƒ¨</span>
      </template>
    </MyTable>
    <h2>æ ‘å½¢æ•°æ®ä¸æ‡’åŠ è½½</h2>
    <MyTable default-expand-all height="360" row-key="id" :columns="columns2" :data="data2" :pageInfo="{ hidden: true }" />
  </div>
</template>

<script lang="ts" setup>
import MyTable from "@/components/MyTable/MyTable.vue";

const columns: any = [
  {
    type: 'index',
    label: "åºå·",
    width: "60",
    fixed: true
  },
  {
    label: "å±•å¼€",
    type: 'expand',
    width: "60",
    prop: 'expand',
  },
  {
    prop: 'name',
    label: "å§“å",
    width: "120",
    formatter(row: Record<string, any>) {
      return 'ğŸ˜„ ' + row.name + ' ğŸ˜„'
    }
  },
  {
    prop: 'age',
    label: "å¹´é¾„",
    width: "80",
  },
  {
    prop: 'link',
    label: "å¤–é“¾",
    width: "240",
    renderHeader: (data: any) => {
      return 'renderHeaderå‡½æ•°çš„æ¸²æŸ“å¤´éƒ¨'
    }
  },
  {
    prop: 'score',
    label: "å¾—åˆ†",
    width: "200",
  },
]

const data = [
  {
    date: '2016-05-01',
    name: 'ç™¾åº¦',
    age: 66.666,
    link: 'https://www.baidu.com/',
    score: 133
  },
  {
    name: 'çŸ¥ä¹',
    age: 77.777,
    link: 'https://www.zhihu.com/',
    score: 144
  },
  {
    name: 'å¤´æ¡',
    age: 88.888,
    link: 'https://www.toutiao.com/',
    score: 155
  },
]

const columns2: any = [
  {
    prop: 'book',
    label: "ä¹¦å",
    width: "120",
  },
  {
    prop: 'info',
    label: "ä¿¡æ¯",
    width: "160",
  },
  {
    prop: 'comment',
    label: "è¯„ä»·",
    width: "210"
  },
]

const data2: any = [
  {
    id: 1,
    book: 'æ°´æµ’ä¼ ',
    info: 'å››å¤§åè‘—ä¹‹ä¸€',
    comment: 'å°‘ä¸è¯»æ°´æµ’',
    children: [
      {
        id: 11,
        book: 'å®‹æ±Ÿ',
        info: '001å·æ¢å±±å¥½æ±‰',
        comment: 'å¿ƒåœ¨æœå»·',
      },
      {
        id: 12,
        book: 'å´ç”¨',
        info: '002å·æ¢å±±å¥½æ±‰',
        comment: 'å®‹æ±Ÿçš„å·¦è†€',
      },
      {
        id: 13,
        book: 'æé€µ',
        info: '00xå·æ¢å±±å¥½æ±‰',
        comment: 'å®‹æ±Ÿçš„å³è‡‚',
      },
    ]
  },
  {
    id: 2,
    book: 'ä¸‰å›½æ¼”ä¹‰',
    info: 'å››å¤§åè‘—ä¹‹ä¸€',
    comment: 'è€ä¸è¯»ä¸‰å›½',
    children: [
      {
        id: 21,
        book: 'åˆ˜å¤‡',
        info: 'åˆ˜çš‡å”',
        comment: 'liubei',
      },
      {
        id: 22,
        book: 'å…³ç¾½',
        info: 'å…³å…¬',
        comment: 'guanyu',
      },
      {
        id: 23,
        book: 'å¼ é£',
        info: 'å¤§æ±‰å¼ é£',
        comment: 'zhangfei',
      },
    ]
  },
]

</script>
