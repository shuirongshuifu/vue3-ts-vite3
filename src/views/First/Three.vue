<template>
  <div class="demo-date-picker">
    <MyTable :columns="columns" :pageInfo="pageInfo" :data="data" @selection-change="fn">
      <template #link:default="scope">
        <a :href="scope.row.link" target="_blank"> ç‚¹å‡»è·³ï¼š {{ scope.row.name }}</a>
      </template>
      <template #address:header>
        è¡¨å¤´
      </template>
      <template #operation:default="scope">
        <el-button @click="op('æŸ¥çœ‹', scope.row)" bg text type="primary">æŸ¥çœ‹</el-button>
        <el-button @click="op('ç¼–è¾‘', scope.row)" bg text type="primary">ç¼–è¾‘</el-button>
        <el-button @click="op('ç¦ç”¨', scope.row)" bg text type="primary">ç¦ç”¨</el-button>
      </template>
    </MyTable>
  </div>
</template>

<script lang="ts" setup>
import MyTable from "@/components/MyTable/MyTable.vue";
import MyPage from "@/components/MyPage/MyPage.vue";
import { reactive } from "vue";

const data = [
  {
    date: '2016-05-01',
    name: 'ç™¾åº¦',
    age: 66.666,
    link: 'https://www.baidu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-02',
    name: 'çŸ¥ä¹',
    age: 77.777,
    link: 'https://www.zhihu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-03',
    name: 'å¤´æ¡',
    age: 88.888,
    link: 'https://www.toutiao.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-01',
    name: 'ç™¾åº¦',
    age: 66.666,
    link: 'https://www.baidu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-02',
    name: 'çŸ¥ä¹',
    age: 77.777,
    link: 'https://www.zhihu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-03',
    name: 'å¤´æ¡',
    age: 88.888,
    link: 'https://www.toutiao.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-01',
    name: 'ç™¾åº¦',
    age: 66.666,
    link: 'https://www.baidu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-02',
    name: 'çŸ¥ä¹',
    age: 77.777,
    link: 'https://www.zhihu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-03',
    name: 'å¤´æ¡',
    age: 88.888,
    link: 'https://www.toutiao.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
]

// å•ç‹¬æ‹å‡ºæ¥ï¼Œæˆä¸ºhook
let pageInfo = reactive({
  offset: 1,
  limit: 50,
  total: 200,
  pageChange: (val: { offset: number, limit: number }) => {
    pageInfo.offset = val.offset
    pageInfo.limit = val.limit
    // getTableData()
  }
})

const fn = (va: any) => {
  console.log(va);
}

const columns: any = [
  {
    type: "selection",
    width: "40",
    fixed: true
  },
  {
    type: 'index',
    label: "åºå·",
    width: "60",
    index: (i: number) => i * 2,
    fixed: true
  },
  {
    prop: 'name',
    label: "å§“å",
    width: "120",
    formatter(row: Record<string, any>) {
      return 'ğŸ˜„ ' + row.name + ' ğŸ˜„'
    }
  },
  {
    prop: 'age',
    label: "å¹´é¾„",
    width: "80",
  },
  {
    prop: 'link',
    label: "å¤–é“¾",
    width: "210"
  },
  {
    prop: 'date',
    label: "æ—¥æœŸ",
    width: "210"
  },
  {
    prop: 'address',
    label: "åœ°å€",
    width: "210",
  },
  {
    label: "æ“ä½œåˆ—",
    prop: 'operation',
    width: "300",
    fixed: 'right'
  },
]

const op = (val: string, row: object) => {
  console.log(val, row);
}



</script>

<style scoped></style>
