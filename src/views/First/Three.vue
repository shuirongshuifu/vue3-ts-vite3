<template>
  <div class="demo-date-picker">
    <MyTable height="360" :columns="columns" :pageInfo="pageInfo" :data="data" @selection-change="fn">
      <template #link:default="scope">
        <a :href="scope.row.link" target="_blank"> ÁÇπÂáªË∑≥Ë∑≥Ë∑≥Ôºö {{ scope.row.name }}</a>
      </template>
      <template #link:header="scope">
        Ë°®Â§¥
      </template>
      <template #operation:default="scope">
        <el-button @click="op('Êü•Áúã', scope.row)" bg text type="primary">Êü•Áúã</el-button>
        <el-button @click="op('ÁºñËæë', scope.row)" bg text type="primary">ÁºñËæë</el-button>
        <el-button @click="op('Á¶ÅÁî®', scope.row)" bg text type="primary">Á¶ÅÁî®</el-button>
      </template>
    </MyTable>
  </div>
</template>

<script lang="ts" setup>
import MyTable from "@/components/MyTable/MyTable.vue";
import { reactive } from "vue";

let pageInfo = reactive({
  offset: 1,
  limit: 50,
  total: 200,
  pageChange: (val: { offset: number, limit: number }) => {
    pageInfo.offset = val.offset
    pageInfo.limit = val.limit
    // getTableData()
  }
})

const fn = (va: any) => {
  console.log(va);
}

const columns: any = [
  {
    type: "selection",
    width: "40",
    fixed: true
  },
  {
    type: 'index',
    label: "Â∫èÂè∑",
    width: "60",
    index: (i: number) => i * 2,
    fixed: true
  },
  {
    prop: 'name',
    label: "ÂßìÂêç",
    width: "120",
    formatter(row: Record<string, any>) {
      return 'üòÑ ' + row.name + ' üòÑ'
    }
  },
  {
    prop: 'age',
    label: "Âπ¥ÈæÑ",
    width: "80",
  },
  {
    prop: 'link',
    label: "Â§ñÈìæ",
    width: "210"
  },
  {
    prop: 'date',
    label: "Êó•Êúü",
    width: "210"
  },
  {
    prop: 'address',
    label: "Âú∞ÂùÄ",
    width: "210",
  },
  {
    label: "Êìç‰ΩúÂàó",
    prop: 'operation',
    width: "300",
    fixed: 'right'
  },
]

const op = (val: string, row: object) => {
  console.log(val, row);
}

const data = [
  {
    date: '2016-05-01',
    name: 'ÁôæÂ∫¶',
    age: 66.666,
    link: 'https://www.baidu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-02',
    name: 'Áü•‰πé',
    age: 77.777,
    link: 'https://www.zhihu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-03',
    name: 'Â§¥Êù°',
    age: 88.888,
    link: 'https://www.toutiao.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-01',
    name: 'ÁôæÂ∫¶',
    age: 66.666,
    link: 'https://www.baidu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-02',
    name: 'Áü•‰πé',
    age: 77.777,
    link: 'https://www.zhihu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-03',
    name: 'Â§¥Êù°',
    age: 88.888,
    link: 'https://www.toutiao.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-01',
    name: 'ÁôæÂ∫¶',
    age: 66.666,
    link: 'https://www.baidu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-02',
    name: 'Áü•‰πé',
    age: 77.777,
    link: 'https://www.zhihu.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
  {
    date: '2016-05-03',
    name: 'Â§¥Êù°',
    age: 88.888,
    link: 'https://www.toutiao.com/',
    address: 'No. 189, Grove St, Los Angeles',
  },
]
</script>
